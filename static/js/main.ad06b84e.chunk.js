(this["webpackJsonpquick-dynalist"]=this["webpackJsonpquick-dynalist"]||[]).push([[0],{230:function(e,t){},232:function(e,t){},241:function(e,t){},243:function(e,t){},268:function(e,t){},269:function(e,t){},274:function(e,t){},276:function(e,t){},283:function(e,t){},302:function(e,t){},341:function(e,t){},441:function(e,t,n){"use strict";n.r(t);var s=n(0),i=n.n(s),o=n(75),r=n.n(o),a=n(201),c=n(11),l=n(19),d=n(76),h=n(77),u=n(78),b=n(79),p=n(82),j=n(37),x=n.n(j),g=n(81),y=n(39),O=(n(199),n(2)),f=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(h.a)(this,n),(s=t.call(this,e)).setDynalistToken=Object(d.a)(x.a.mark((function e(){var t,n,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!0})})),t=s.state.dynalistApiToken,n=new g.DynalistApi(t,0),e.prev=3,e.next=6,n.listFiles();case 6:if(!(i=e.sent)._code||"Ok"!==i._code){e.next=11;break}return localStorage.setItem("quick-dynalist-api-key",t),s.props.history.push("/"),e.abrupt("return");case 11:if(!i._code||"InvalidToken"!==i._code){e.next=13;break}throw new Error("Invalid token entered");case 13:throw new Error("Request not accepted");case 16:e.prev=16,e.t0=e.catch(3),y.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 19:return e.prev=19,s.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!1})})),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])}))),s.handleChange=function(e){s.setState({dynalistApiToken:e.target.value})},s.handleKeyDown=function(e){"Enter"===e.key&&s.state.dynalistApiToken&&s.setDynalistToken()},s.state={dynalistApiToken:"",sendingInProgress:!1},s}return Object(u.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"},children:Object(O.jsxs)("div",{style:{width:"100%",maxWidth:"1000px",margin:"10px"},children:[Object(O.jsxs)("div",{style:{margin:"10px"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Enter Dynalist API Token"})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["This is a tool to quickly add items to your dynalist"," ",Object(O.jsx)("a",{href:"https://help.dynalist.io/article/119-set-an-inbox-location",children:"inbox"}),". To set this up you will need to add your dynalist api token to the site (this will be saved only to localstorage on your browser). If you (rightly) don't trust this site and would rather host this tool yourself then you can fork the code at ",Object(O.jsx)("a",{href:"https://github.com/nzmattgrant/QuickDynalist",children:"github"})," and host it yourself (for free) at ",Object(O.jsx)("a",{href:"https://pages.github.com/",children:"github pages"})]}),Object(O.jsxs)("p",{children:["Enter your api token found"," ",Object(O.jsx)("a",{target:"_blank",href:"https://dynalist.io/developer",children:"here"})]}),Object(O.jsx)("p",{children:"This key will only be held locally on your browser and will not be sent to any server"})]})]}),Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{style:{width:"calc(100% - 20px)",marginLeft:"10px",marginRight:"10px"},rows:4,cols:50,value:this.state.dynalistApiToken,onChange:this.handleChange,onKeyDown:this.handleKeyDown})}),Object(O.jsx)("button",{style:{margin:"10px"},disabled:!this.state.dynalistApiToken,className:"btn btn-primary",onClick:this.setDynalistToken,children:"Enter"}),this.state.sendingInProgress?Object(O.jsx)("div",{style:{color:"green",margin:"10px"},children:"Setting api key, please wait to be redirected..."}):Object(O.jsx)(O.Fragment,{})]})]})}),Object(O.jsx)(y.a,{})]})}}]),n}(s.Component),v=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(h.a)(this,n),(s=t.call(this,e)).dynalistApi=void 0,s.clearKey=function(){localStorage.removeItem("quick-dynalist-api-key"),s.props.history.push("/Setup")},s.sendTextToInbox=Object(d.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(s.state.inboxInput),s.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!0})})),e.next=5,null===(t=s.dynalistApi)||void 0===t?void 0:t.sendToInbox(s.state.inboxInput);case 5:y.b.success("Sent to inbox",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),s.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{inboxInput:""})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 12:return e.prev=12,s.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!1})})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),s.handleChange=function(e){s.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{inboxInput:e.target.value})}))},s.handleKeyDown=function(e){"Enter"===e.key&&!s.state.sendingInProgress&&s.state.inboxInput&&s.sendTextToInbox()},s.state={sendingInProgress:!1,inboxInput:""},s}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("quick-dynalist-api-key");console.log(e),e||this.props.history.push("/Setup"),this.dynalistApi=new g.DynalistApi(e,0)}},{key:"render",value:function(){return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{style:{margin:"10px"},className:"btn btn-danger",onClick:this.clearKey,children:"Clear dynalist key"})}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"calc(100% - 120px)"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Add to inbox"})}),Object(O.jsxs)("div",{style:{width:"100%",maxWidth:"1000px"},children:[Object(O.jsx)("input",{style:{width:"calc(100% - 110px)",margin:"10px"},type:"text",value:this.state.inboxInput,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),Object(O.jsx)("button",{style:{width:"70px",margin:"10px"},className:"btn btn-primary",disabled:this.state.sendingInProgress||!this.state.inboxInput,onClick:this.sendTextToInbox,children:"Add"})]}),this.state.sendingInProgress?Object(O.jsx)("div",{style:{color:"green"},children:"Sending to inbox..."}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)(y.a,{})]})}}]),n}(s.Component);n(436);var k=function(){return Object(O.jsxs)(a.a,{basename:"",children:[Object(O.jsx)(c.a,{exact:!0,path:"/",component:v}),Object(O.jsx)(c.a,{exact:!0,path:"/setup",component:f})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,s=t.getFID,i=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),s(e),i(e),o(e),r(e)}))};r.a.render(Object(O.jsx)(i.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),m()}},[[441,1,2]]]);
//# sourceMappingURL=main.ad06b84e.chunk.js.map