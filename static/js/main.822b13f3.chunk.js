(this["webpackJsonpquick-dynalist"]=this["webpackJsonpquick-dynalist"]||[]).push([[0],{230:function(e,t){},232:function(e,t){},241:function(e,t){},243:function(e,t){},268:function(e,t){},269:function(e,t){},274:function(e,t){},276:function(e,t){},283:function(e,t){},302:function(e,t){},341:function(e,t){},441:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),o=n(75),r=n.n(o),a=n(201),c=n(11),l=n(76),u=n(77),d=n(78),b=n(79),p=n(82),h=n(37),j=n.n(h),x=n(81),g=n(39),y=(n(199),n(3)),O=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).setDynalistToken=Object(l.a)(j.a.mark((function e(){var t,n,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.state.dynalistApiToken,n=new x.DynalistApi(t,0),e.prev=2,e.next=5,n.listFiles();case 5:if(!(s=e.sent)._code||"Ok"!==s._code){e.next=10;break}return localStorage.setItem("quick-dynalist-api-key",t),i.props.history.push("/"),e.abrupt("return");case 10:if(!s._code||"InvalidToken"!==s._code){e.next=12;break}throw new Error("Invalid token entered");case 12:throw new Error("Request not accepted");case 15:e.prev=15,e.t0=e.catch(2),g.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 18:case"end":return e.stop()}}),e,null,[[2,15]])}))),i.handleChange=function(e){i.setState({dynalistApiToken:e.target.value})},i.state={dynalistApiToken:""},i}return Object(d.a)(n,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"container square-box d-flex justify-content-center",style:{width:"500px",height:"200px",position:"absolute",top:"50%",left:"50%",margin:"-150px 0 0 -250px",flexDirection:"column"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("h1",{children:"Enter Dynalist API token"})}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("p",{children:["Enter your api token found"," ",Object(y.jsx)("a",{target:"_blank",href:"https://dynalist.io/developer",children:"here"})]}),Object(y.jsx)("p",{children:"this key will only be held locally on your browser and will not be sent to any server"})]}),Object(y.jsxs)("div",{children:[" ",Object(y.jsx)("input",{type:"text",style:{width:"400px",marginRight:"10px"},value:this.state.dynalistApiToken,onChange:this.handleChange}),Object(y.jsx)("button",{className:"btn btn-primary",onClick:this.setDynalistToken,children:"Enter"})]}),Object(y.jsx)(g.a,{})]})}}]),n}(i.Component),f=n(28),v=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(u.a)(this,n),(i=t.call(this,e)).dynalistApi=void 0,i.clearKey=function(){localStorage.removeItem("quick-dynalist-api-key"),i.props.history.push("/Setup")},i.sendTextToInbox=Object(l.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(i.state.inboxInput),i.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{sendingInProgress:!0})})),e.next=5,null===(t=i.dynalistApi)||void 0===t?void 0:t.sendToInbox(i.state.inboxInput);case 5:g.b.success("Sent to inbox",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{inboxInput:""})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),g.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 12:return e.prev=12,i.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{sendingInProgress:!1})})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),i.handleChange=function(e){i.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{inboxInput:e.target.value})}))},i.state={sendingInProgress:!1,inboxInput:""},i}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("quick-dynalist-api-key");console.log(e),e||this.props.history.push("/Setup"),this.dynalistApi=new x.DynalistApi(e,0)}},{key:"render",value:function(){return Object(y.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("button",{style:{margin:"10px"},className:"btn btn-danger",onClick:this.clearKey,children:"Clear dynalist key"})}),Object(y.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"calc(100% - 120px)"},children:[Object(y.jsx)("div",{children:Object(y.jsx)("h1",{children:"Add to inbox"})}),Object(y.jsxs)("div",{children:[Object(y.jsx)("input",{style:{minWidth:"300px",margin:"10px"},type:"text",value:this.state.inboxInput,onChange:this.handleChange}),Object(y.jsx)("button",{className:"btn btn-primary",disabled:this.state.sendingInProgress||!this.state.inboxInput,onClick:this.sendTextToInbox,children:"Add"})]}),this.state.sendingInProgress?Object(y.jsx)("div",{style:{color:"green"},children:"Sending to inbox"}):Object(y.jsx)(y.Fragment,{})]}),Object(y.jsx)(g.a,{})]})}}]),n}(i.Component);n(436);var k=function(){return Object(y.jsxs)(a.a,{basename:"/QuickDynalist",children:[Object(y.jsx)(c.a,{exact:!0,path:"/",component:v}),Object(y.jsx)(c.a,{exact:!0,path:"/setup",component:O})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,442)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),s(e),o(e),r(e)}))};r.a.render(Object(y.jsx)(s.a.StrictMode,{children:Object(y.jsx)(k,{})}),document.getElementById("root")),m()}},[[441,1,2]]]);
//# sourceMappingURL=main.822b13f3.chunk.js.map