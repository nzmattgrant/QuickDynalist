(this["webpackJsonpquick-dynalist"]=this["webpackJsonpquick-dynalist"]||[]).push([[0],{230:function(e,t){},232:function(e,t){},241:function(e,t){},243:function(e,t){},268:function(e,t){},269:function(e,t){},274:function(e,t){},276:function(e,t){},283:function(e,t){},302:function(e,t){},341:function(e,t){},441:function(e,t,n){"use strict";n.r(t);var i=n(0),s=n.n(i),r=n(80),o=n.n(r),a=n(53),c=n(11),l=n(19),d=n(81),h=n(50),b=n(51),u=n(52),p=n(54),j=n(38),x=n.n(j),g=n(83),y=n(40),O=(n(120),n(1)),f=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).setDynalistToken=Object(d.a)(x.a.mark((function e(){var t,n,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!0})})),t=i.state.dynalistApiToken,n=new g.DynalistApi(t,0),e.prev=3,e.next=6,n.listFiles();case 6:if(!(s=e.sent)._code||"Ok"!==s._code){e.next=11;break}return localStorage.setItem("quick-dynalist-api-key",t),i.props.history.push("/"),e.abrupt("return");case 11:if(!s._code||"InvalidToken"!==s._code){e.next=13;break}throw new Error("Invalid token entered");case 13:throw new Error("Request not accepted");case 16:e.prev=16,e.t0=e.catch(3),y.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 19:return e.prev=19,i.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!1})})),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])}))),i.handleChange=function(e){i.setState({dynalistApiToken:e.target.value})},i.handleKeyDown=function(e){"Enter"===e.key&&i.state.dynalistApiToken&&i.setDynalistToken()},i.state={dynalistApiToken:"",sendingInProgress:!1},i}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"100%"},children:Object(O.jsxs)("div",{style:{width:"100%",maxWidth:"1000px",margin:"10px"},children:[Object(O.jsxs)("div",{style:{margin:"10px"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Enter Dynalist API Token"})}),Object(O.jsxs)("div",{children:[Object(O.jsxs)("p",{children:["This is a tool to quickly add items to your dynalist"," ",Object(O.jsx)("a",{href:"https://help.dynalist.io/article/119-set-an-inbox-location",children:"inbox"}),". To set this up you will need to add your dynalist api token to the site (this will be saved only to localstorage on your browser). If you (rightly) don't trust this site and would rather host this tool yourself then you can fork the code at ",Object(O.jsx)("a",{href:"https://github.com/nzmattgrant/QuickDynalist",children:"github"})," and host it yourself (for free) at ",Object(O.jsx)("a",{href:"https://pages.github.com/",children:"github pages"})]}),Object(O.jsxs)("p",{children:["Enter your api token found"," ",Object(O.jsx)("a",{target:"_blank",href:"https://dynalist.io/developer",children:"here"})]}),Object(O.jsx)("p",{children:"This key will only be held locally on your browser and will not be sent to any server"})]})]}),Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("div",{children:Object(O.jsx)("textarea",{style:{width:"calc(100% - 20px)",marginLeft:"10px",marginRight:"10px"},rows:4,cols:50,value:this.state.dynalistApiToken,onChange:this.handleChange,onKeyDown:this.handleKeyDown})}),Object(O.jsx)("button",{style:{margin:"10px"},disabled:!this.state.dynalistApiToken,className:"btn btn-primary",onClick:this.setDynalistToken,children:"Enter"}),Object(O.jsx)("div",{style:{marginLeft:"10px"},children:Object(O.jsx)(a.b,{to:"/use-as-app",children:"Use as App"})}),this.state.sendingInProgress?Object(O.jsx)("div",{style:{color:"green",margin:"10px"},children:"Setting api key, please wait to be redirected..."}):Object(O.jsx)(O.Fragment,{})]})]})}),Object(O.jsx)(y.a,{})]})}}]),n}(i.Component),v=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).dynalistApi=void 0,i.clearKey=function(){localStorage.removeItem("quick-dynalist-api-key"),i.props.history.push("/Setup")},i.sendTextToInbox=Object(d.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(i.state.inboxInput),i.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!0})})),e.next=5,null===(t=i.dynalistApi)||void 0===t?void 0:t.sendToInbox(i.state.inboxInput);case 5:y.b.success("Sent to inbox",{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}),i.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{inboxInput:""})})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),y.b.error(e.t0.message,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0});case 12:return e.prev=12,i.setState((function(e){return Object(l.a)(Object(l.a)({},e),{},{sendingInProgress:!1})})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])}))),i.handleChange=function(e){i.setState((function(t){return Object(l.a)(Object(l.a)({},t),{},{inboxInput:e.target.value})}))},i.handleKeyDown=function(e){"Enter"===e.key&&!i.state.sendingInProgress&&i.state.inboxInput&&i.sendTextToInbox()},i.state={sendingInProgress:!1,inboxInput:""},i}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("quick-dynalist-api-key");console.log(e),e||this.props.history.push("/Setup"),this.dynalistApi=new g.DynalistApi(e,0)}},{key:"render",value:function(){return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("button",{style:{margin:"10px"},className:"btn btn-danger",onClick:this.clearKey,children:"Clear dynalist key"})}),Object(O.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"calc(100% - 120px)"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Add to inbox"})}),Object(O.jsxs)("div",{style:{width:"100%",maxWidth:"1000px"},children:[Object(O.jsx)("input",{style:{width:"calc(100% - 110px)",margin:"10px"},type:"text",value:this.state.inboxInput,onChange:this.handleChange,onKeyDown:this.handleKeyDown}),Object(O.jsx)("button",{style:{width:"70px",margin:"10px"},className:"btn btn-primary",disabled:this.state.sendingInProgress||!this.state.inboxInput,onClick:this.sendTextToInbox,children:"Add"})]}),Object(O.jsx)("div",{style:{marginLeft:"10px"},children:Object(O.jsx)(a.b,{to:"/use-as-app",children:"Use as App"})}),this.state.sendingInProgress?Object(O.jsx)("div",{style:{color:"green"},children:"Sending to inbox..."}):Object(O.jsx)(O.Fragment,{})]}),Object(O.jsx)(y.a,{})]})}}]),n}(i.Component),m=n(443),k=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(h.a)(this,n),(i=t.call(this,e)).goBack=function(){i.props.history.push("/")},i}return Object(b.a)(n,[{key:"render",value:function(){return Object(O.jsxs)("div",{style:{position:"absolute",top:"0px",bottom:"0px",width:"100%"},children:[Object(O.jsx)("div",{children:Object(O.jsx)(m.a,{style:{width:"30px",height:"30px",marginTop:"20px",marginLeft:"10px"},onClick:this.goBack})}),Object(O.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"calc(100% - 100px)"},children:Object(O.jsxs)("div",{style:{margin:"10px"},children:[Object(O.jsx)("div",{children:Object(O.jsx)("h1",{children:"Use Quick Add Dynalist as an app"})}),Object(O.jsxs)("div",{children:[Object(O.jsx)("h2",{children:"iOS"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Open this website in Safari"}),Object(O.jsx)("li",{children:"Tap Share (the middle button) in Safari's bottom bar"}),Object(O.jsx)("li",{children:"Select Add to Home Screen"})]}),Object(O.jsx)("h2",{children:"Android"}),Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:"Open this website in Chrome"}),Object(O.jsx)("li",{children:"Tap on the hamburger menu in the upper right-hand corner of the Chrome window"}),Object(O.jsx)("li",{children:"Select Add to Home Screen"})]})]})]})})]})}}]),n}(i.Component);n(440);var w=function(){return Object(O.jsxs)(a.a,{basename:"",children:[Object(O.jsx)(c.a,{exact:!0,path:"/",component:v}),Object(O.jsx)(c.a,{exact:!0,path:"/setup",component:f}),Object(O.jsx)(c.a,{exact:!0,path:"/use-as-app",component:k})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,444)).then((function(t){var n=t.getCLS,i=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),s(e),r(e),o(e)}))};o.a.render(Object(O.jsx)(s.a.StrictMode,{children:Object(O.jsx)(w,{})}),document.getElementById("root")),I()}},[[441,1,2]]]);
//# sourceMappingURL=main.bd046262.chunk.js.map